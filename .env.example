# =============================================================================
# FAJMA - Configuration des Variables d'Environnement
# =============================================================================
# Copiez ce fichier vers .env et modifiez les valeurs selon votre environnement

# =============================================================================
# DJANGO CONFIGURATION
# =============================================================================

# Clé secrète Django (générez une nouvelle clé pour la production)
SECRET_KEY=your-secret-key-here-change-this-in-production

# Mode debug (True pour développement, False pour production)
DEBUG=True

# Hosts autorisés (séparez par des virgules)
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# URL de la base de données
# SQLite (développement)
DATABASE_URL=sqlite:///db.sqlite3

# PostgreSQL (production)
# DATABASE_URL=postgresql://username:password@localhost:5432/fajma_db

# MySQL (alternative)
# DATABASE_URL=mysql://username:password@localhost:3306/fajma_db

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# URL Redis pour Django Channels et cache
REDIS_URL=redis://localhost:6379/0

# Redis pour sessions (optionnel)
REDIS_SESSION_URL=redis://localhost:6379/1

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Origins autorisées pour CORS (développement)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:5173

# Autoriser tous les origins (DANGER - uniquement pour développement)
# CORS_ALLOW_ALL_ORIGINS=True

# =============================================================================
# JWT CONFIGURATION
# =============================================================================

# Durée de vie des tokens JWT (en minutes)
JWT_ACCESS_TOKEN_LIFETIME=15
JWT_REFRESH_TOKEN_LIFETIME=10080

# Algorithme de signature JWT
JWT_ALGORITHM=HS256

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# Configuration email (pour les notifications)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=FAJMA System <noreply@fajma.com>

# =============================================================================
# IOT CONFIGURATION
# =============================================================================

# Configuration ESP32
ESP32_DEFAULT_TIMEOUT=30
ESP32_MAX_RECONNECT_ATTEMPTS=5

# Seuils d'alerte pour les capteurs
TEMPERATURE_MIN_THRESHOLD=35.0
TEMPERATURE_MAX_THRESHOLD=39.0
HEART_RATE_MIN_THRESHOLD=50
HEART_RATE_MAX_THRESHOLD=120
SPO2_MIN_THRESHOLD=90
SPO2_MAX_THRESHOLD=100

# =============================================================================
# WEBSOCKET CONFIGURATION
# =============================================================================

# Configuration WebSocket
WEBSOCKET_ACCEPT_ALL=False
WEBSOCKET_TIMEOUT=300
WEBSOCKET_HEARTBEAT_INTERVAL=30

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Niveau de logging
LOG_LEVEL=INFO

# Fichier de log
LOG_FILE=logs/fajma.log

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Configuration HTTPS (production)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# Configuration des cookies sécurisés
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# =============================================================================
# STATIC FILES CONFIGURATION
# =============================================================================

# URL des fichiers statiques
STATIC_URL=/static/
STATIC_ROOT=staticfiles/

# URL des fichiers media
MEDIA_URL=/media/
MEDIA_ROOT=media/

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Configuration du cache
CACHE_BACKEND=django_redis.cache.RedisCache
CACHE_LOCATION=redis://127.0.0.1:6379/2
CACHE_TIMEOUT=300

# =============================================================================
# API CONFIGURATION
# =============================================================================

# Pagination par défaut
API_PAGE_SIZE=20
API_MAX_PAGE_SIZE=100

# Rate limiting
API_THROTTLE_ANON=100/hour
API_THROTTLE_USER=1000/hour

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Configuration pour le développement
DEV_SERVER_HOST=0.0.0.0
DEV_SERVER_PORT=8000

# Frontend URL (pour les redirections)
FRONTEND_URL=http://localhost:5173

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Sentry (monitoring des erreurs)
# SENTRY_DSN=https://your-sentry-dsn-here

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Configuration des sauvegardes
BACKUP_ENABLED=False
BACKUP_DIRECTORY=backups/
BACKUP_RETENTION_DAYS=30

# =============================================================================
# NOTES DE CONFIGURATION
# =============================================================================

# 1. Générez une nouvelle SECRET_KEY pour la production:
#    python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"

# 2. Pour PostgreSQL, installez psycopg2:
#    pip install psycopg2-binary

# 3. Pour MySQL, installez mysqlclient:
#    pip install mysqlclient

# 4. Pour la production, définissez DEBUG=False et configurez ALLOWED_HOSTS

# 5. Configurez Redis selon votre installation:
#    - Docker: redis://redis:6379/0
#    - Local: redis://localhost:6379/0
#    - Cloud: redis://username:password@host:port/db

# 6. Pour les emails, utilisez des mots de passe d'application pour Gmail

# 7. Configurez CORS_ALLOWED_ORIGINS avec vos domaines de production

# 8. Activez HTTPS en production avec les paramètres SECURE_*